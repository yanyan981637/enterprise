<?xml version="1.0"?>

<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../../../lib/internal/Magento/Framework/View/Layout/etc/page_configuration.xsd">
    <head>
        <css src="Mitac_CustomCMS::css/theme.css" rel="stylesheet" type="text/css"/>
        <css src="Mitac_CustomCMS::css/fonts.css" rel="stylesheet" type="text/css"/>
        <css src="Mitac_CustomCMS::css/header.css" rel="stylesheet" type="text/css"/>
        <css src="Mitac_CustomCMS::css/mio.css" rel="stylesheet" type="text/css"/>
	    <css src="Mitac_CustomCMS::css/mio-child.css" rel="stylesheet" type="text/css"/>
        <css src="Mitac_CustomCMS::css/animate.min.css" rel="stylesheet" type="text/css"/>
        <script src="Mitac_CustomCMS::js/wow.min.js" type="text/javascript"/>
    </head>
    <!-- Remove Old Theme Header -->
    <referenceBlock name="header.container" remove="true" />
    <referenceBlock name="page.top" remove="true" />

    <!-- Add Page Banner -->
    <referenceContainer name="page.wrapper">
        <block class="Mitac\Community\Block\Banner" name="mio.banner" template="Mitac_CustomCMS::html/layout/banner.phtml" before="-" />
    </referenceContainer>

    <move element="mio.banner" destination="main.content" before="-" />

    <!-- Mio Header -->
    <referenceContainer name="page.wrapper">

        <container name="mio.header.wrapper" htmlId="header" htmlClass="page-header" htmlTag="header" before="main.content">

            <container name="mio.header" htmlClass="page-header-container" htmlTag="div">
                <!-- Logo -->
                <block class="Mitac\CustomCMS\Block\Theme\Header\Header" name="mio.header.logo" template="Mitac_CustomCMS::html/layout/header-logo.phtml" before="-"/>
                <!-- Navigation Follow Move Rule Below -->
                <container name="mio.nav" htmlId="header-nav" htmlClass="nav-primary" htmlTag="div"/>
                
                <!-- Account-Cart -->
                <container name="mio.account-cart-wrapper" htmlClass="account-cart-wrapper" htmlTag="div">
                    <!-- Mini Cart -->
                    <referenceBlock class="Magento\Checkout\Block\Cart\Sidebar" name="minicart" template="Mitac_CustomCMS::html/layout/minicart.phtml"/>
                    <container name="mio.minicart-wrapper" htmlClass="header-minicart" htmlTag="div"/>
                    <!-- Login/Register -->
                    <block class="Mitac\CustomCMS\Block\Theme\Header\AuthorizationLink" name="mio.login" template="Mitac_CustomCMS::html/layout/header-login.phtml" cacheable="false"/>
                </container>

                <!-- Search -->
                <container name="mio.search-wrapper" htmlId="header-search" htmlTag="div">
                    <block class="Magento\Framework\View\Element\Template" name="mio.search" template="Mitac_CustomCMS::html/layout/header-search.phtml" />
                </container>

            </container>
        </container>
    </referenceContainer>

    <referenceContainer name="category.view.container" htmlTag="div" htmlClass="category-view">
        <block class="Magento\Catalog\Block\Category\View" name="category.description" template="Magento_Catalog::category/description.phtml"/>
    </referenceContainer>


    <referenceContainer name="div.sidebar.main" htmlTag="div" htmlClass="sidebar sidebar-main">
        <container name="sidebar.main" as="sidebar_main" label="Sidebar Main"/>
    </referenceContainer>
    <!-- <referenceContainer name="div.sidebar.additional" htmlTag="div" htmlClass="sidebar sidebar-additional">
        <container name="sidebar.additional" as="sidebar_additional" label="Sidebar Additional"/>
    </referenceContainer> -->


    <move element="breadcrumbs" destination="main.content" before="-"/>
    <move element="category.view.container" destination="main.content" after="breadcrumbs"/>
    <move element="navigation.sections" destination="mio.nav" before="-"/>
    <move element="minicart" destination="mio.minicart-wrapper" before="-"/>
    <move element="div.sidebar.main" destination="columns" before="-"/>
    <!-- <move element="div.sidebar.additional" destination="columns" after="div.sidebar.main"/> -->

    <!-- For Mobile Menu -->
    <referenceBlock name="navigation.sections" template="Mitac_CustomCMS::html/layout/header-sections.phtml"/>
    <referenceBlock name="store.links" remove="true" />
    <referenceBlock name="store.settings" remove="true" />
    <referenceBlock name="catalog.topnav" template="Mitac_CustomCMS::html/layout/topmenu.phtml"/>

    <!-- Mio Footer -->
    <!-- Move footer configuration to CustomNinja default.xml -->

</page>
